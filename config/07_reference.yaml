---
# Demonstrates how to use the optional refs node to define aliases for later referencing.

refs:
  echo_plugin: &echo_plugin
    plugin: pnp.plugins.push.simple.Echo
    selector: "payload"
tasks:
  - name: reference
    pull:
      plugin: pnp.plugins.pull.simple.Repeat
      args:
        wait: 1
        repeat: "Hello World"
    push:
      - <<: *echo_plugin
        selector: "payload.split(' ')[0]"
      - <<: *echo_plugin
        selector: "payload.split(' ')[1]"
